{{define "admin/writeArticle.html"}}
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>wangEditor demo</title>
</head>
{{template "public/head.html"}}
<style>
    div:focus {
        outline: none;
    }
</style>
<link rel="stylesheet" href="../../static/editor.md/css/editormd.css" />
<script type="text/javascript" src="../../static/js/jquery.min.js"></script>
<script src="../../static/editor.md/editormd.min.js"></script>
<form id="form" action="writeArticle/uploadArticle" method="post">
    <div style="font-size: 35px;margin-left:20%;height:35px;display: inline-block;">
        <span>Title:</span>
    </div>
    <div id="titlevalue" type="text" height=65px contenteditable="true" style="text-align:center;display: inline-block;width: 50%;margin-top:3%;margin-left: 5%;margin-bottom: 1%;font-weight: bold;min-height:45px;word-wrap:break-word;text-align:center;font-size:35px; 
        border-width:0px;border-bottom-width:3px;border-color: #00000030;border-style:solid">
        <input id="title" type="hidden" name="title"></input>
    </div>

    <div style="font-size: 25px;margin-left:20%;height:25px;display: inline-block;">
        <span>Abstract:</span>
    </div>

    <div id="abstractvalue" type="text" height=65px contenteditable="true" style="text-align:center;display: inline-block;width: 50%;margin-top:1%;margin-left: 3.2%;margin-bottom: 2%;font-weight: bold;min-height:45px;word-wrap:break-word;text-align:center;font-size:35px; 
border-width:0px;border-bottom-width:3px;border-color: #00000030;border-style:solid">
        <input id="abstract" type="hidden" name="abstract"></input>
    </div>

    <div id=" layout" class="editor">
        <div id="test-editormd">
            <textarea id="content" name="content"></textarea>
        </div>
    </div>

    <div style="margin:0 auto;margin-top:3%;text-align: center;">
        <button value="submit" id="submit"
            style="text-align:center;border-width:0;border-radius:15%;background:linear-gradient(to right,white,#c0c0c0,white); width: 150px; height:58px;">submit</button>
    </div>
</script>
<script type="text/javascript">
    var testEditor;
    testEditor = editormd("test-editormd", {
        placeholder: '',  //默认显示的文字，这里就不解释了
        width: "80%",
        height: 640,
        syncScrolling: "single",
        path: "../../static/editor.md/lib/",   //你的path路径（原资源文件中lib包在我们项目中所放的位置）
        theme: "light",//工具栏主题
        previewTheme: "light",//预览主题
        editorTheme: "light",//编辑主题
        // saveHTMLToTextarea: true,
        imageUpload: true,
        imageUploadURL: "../../static/pic/",
        emoji: true,
        watch: true,
        taskList: true,
        tocm: true,         // Using [TOCM]
        tex: true,                   // 开启科学公式TeX语言支持，默认关闭
        flowChart: true,             // 开启流程图支持，默认关闭
        sequenceDiagram: true,       // 开启时序/序列图支持，默认关闭,
        toolbarIcons: function () {  //自定义工具栏，后面有详细介绍
            return editormd.toolbarModes['full']; // full, simple, mini
        },
    });
    // testEditor.getMarkdown();

    submit = document.getElementById('submit');
    submit.onclick = function () {
        var title = document.getElementById('titlevalue').innerText,
            abstract = document.getElementById('abstractvalue').innerText;
        document.getElementById('title').value = title;
        document.getElementById('abstract').value = abstract;
        document.getElementById('content').value = testEditor.getMarkdown();
        document.getElementById('form').submit();
    }
</script>
</form>
<!-- 换成markdown的文本编辑器-->
<!-- <button id="btn1">获取html</button>
<button id="btn2">获取text</button> -->
<!-- 
<div id="div1" class="toolbar" style="width:80%;margin: 0 auto;text-align: center;">
</div>
<div id="div2" class="text" style="min-height: 300px;width:80%;margin: 0 auto;">
</div>
<div id="editor" style="margin-top:3%" >
</div>
<script type="text/javascript" src="../../static/wangEditor/release/wangEditor.js"></script>
<script type="text/javascript">
    var E = window.wangEditor
    var editor = new E('#div1', '#div2')
    // 或者 var editor = new E( document.getElementById('editor') )
    editor.create()
    document.getElementById('btn1').addEventListener('click', function () {
        // 读取 html
        alert(editor.txt.html())
    }, false)

    document.getElementById('btn2').addEventListener('click', function () {
        // 读取 text
        alert(editor.txt.text())
    }, false)

        // editor.$textElem.attr('contenteditable', false)
</script> -->

{{template "public/foot.html"}}

</html>
{{end}}